graph TB
    subgraph Hierarchy["Policy Hierarchy"]
        Global[GLOBAL POLICY<br/>Mandatory Security Baseline<br/>"All data encrypted at rest"]
        BU[BUSINESS UNIT POLICY<br/>Finance-Specific Rules<br/>"PCI-DSS compliance"]
        Team[TEAM POLICY<br/>Payments Team Rules<br/>"Allow internal testing"]
        
        Global --> BU
        BU --> Team
        
        style Global fill:#DC2626,stroke:#991B1B,color:#fff,stroke-width:3px
        style BU fill:#F59E0B,stroke:#D97706,color:#fff
        style Team fill:#10B981,stroke:#059669,color:#fff
    end
    
    subgraph Resolution["Conflict-Free Resolution"]
        R1[Effective Policy =<br/>Global ∪ (BU \ Conflict) ∪ (Team \ Conflict)]
        R2[Monotonicity:<br/>Child can only restrict<br/>Never grant denied access]
        
        style R1 fill:#DBEAFE,stroke:#2563EB
        style R2 fill:#DBEAFE,stroke:#2563EB
    end
    
    Team --> R1
    R1 --> R2
    
    subgraph Example["Conflict Example"]
        C1[Global: DENY all public S3]
        C2[Team: ALLOW public S3<br/>for marketing assets]
        C3[Conflict Detected!<br/>Team policy rejected]
        
        C1 --> C3
        C2 --> C3
        
        style C1 fill:#FEE2E2,stroke:#DC2626,color:#333
        style C2 fill:#FEE2E2,stroke:#DC2626,color:#333
        style C3 fill:#FEE2E2,stroke:#DC2626,color:#333,stroke-width:3px
    end
    
    R2 -.->|Prevents| C3
    
    Safe[Safe Policy Composition<br/>No security holes]
    R2 --> Safe
    
    style Safe fill:#D1FAE5,stroke:#059669,color:#333,stroke-width:3px
